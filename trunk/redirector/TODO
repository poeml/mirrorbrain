Missing features:

* match client to mirror by net prefix (pwhois), to keep local traffic local
  (server's prefixes can be filled in the database from whois -h whois.pwhois.org)

* optimize DB query by looking up hashed filename instead of filename (saves
  lookup in one table resp. one of the two joins)

* hardcoded mapping to specific mirror identifier for ip/network
* add directive to exclude IP address/network from redirecting
  using apr_ipsubnet_create() and apr_ipsubnet_test() as mod_authz_host does
* if mirror has country_code="all", put it into the country pool
  (needed for cache.novell.com)



Further ideas:

* metalink support?

* evaluate if it makes sense to memcache database query results, which may not be
  practicable for all objects, but for some particular objects, like those with
  mime type application/x-cd-image. They should not be cached for a significant
  amount of time, but a few minutes shouldn't be a problem.
  As a key for the memcache object, one could use the label of the prepared SQL
  statement combined with the filename.

* add SQL_CACHE hints? do this conditionally?

* stickyness of (large) files to certain mirrors, to make better use of buffer caches?

* collect statistics on number and volume (cumulated file sizes) of redirects
  for mod_status, show per mirror identifier since last restart

* implement a "give me a xml formatted list of 3 mirrors which fit for me" 
  * ("and have the following files: ...")


* check whether usage of explicit ap_dbd_open/ap_dbd_close, instead of the
  ap_dbd_acquire wrapping function, results in better utilization of the database
  connection pool
  but apr_reslist is undergoing some fixes/changes currently (1.2.11 time), so let's wait

